# ==========================================
# GENERATOR CONFIGURATION
# ==========================================
# This file contains PERMANENT settings that apply to ALL generated projects.
# Users should modify this ONCE to match their environment.
# Claude will still prompt for per-project settings (name, entity, auth, etc.)

# DATABASE CONFIGURATION
# These credentials will be used for ALL generated projects
database:
  user: "user"                   # PostgreSQL username (update if needed)
  password: "password"           # PostgreSQL password (update if needed)
  name_pattern: "{project}_db"  # Database naming: todo_app_db, blog_db, etc.

# PORT ALLOCATION STRATEGY
# Each project gets unique ports to avoid conflicts
ports:
  base_api: 8000                # Starting port for API servers
  base_db: 5432                 # Starting port for PostgreSQL
  base_redis: 6379              # Starting port for Redis
  base_frontend: 3000           # Starting port for Next.js frontend
  increment: 10                 # Base increment per project index

  # Port randomization prevents predictable patterns and conflicts
  randomization:
    enabled: true               # Set to false for predictable ports
    range: 50                   # Random offset: -50 to +50 from calculated port
    # Example: Project 1 API = 8000 + random(-50 to 50) = 7950-8050
    # Example: Project 2 API = 8010 + random(-50 to 50) = 7960-8060

# PROJECT DEFAULTS
# These are DEFAULT values - Claude will still ask users to confirm
defaults:
  module_prefix: "github.com/darkphotonKN/"  # Your GitHub username
  include_auth: true            # Default: Include JWT authentication
  include_redis: true           # Always included (required for DDD template)
  include_s3: false             # Default: No S3 file uploads
  include_frontend: false        # Default: No frontend application
  primary_entity: "item"        # Fallback entity name (rarely used)

# OUTPUT LOCATION
# Where generated projects are created (relative to generator directory)
output_location: "../"              # Creates projects as siblings to go-template-generator
# Example directory structure:
#   /your-go-projects/
#   ├── go-template-generator/      # This repository
#   ├── todo-app/                  # Generated project
#   └── inventory-api/             # Generated project

# PROJECT REGISTRY
# Tracks all generated projects to manage port allocation and prevent conflicts
projects_registry: "~/.go-gen-projects.json"
# Delete this file to reset project indexing and port allocation

# GIT CONFIGURATION
git:
  initial_commit_message: "initial commit"  # First commit message for generated projects

# FEATURE FLAGS
# These are DEFAULT settings - Claude will ask users to confirm each one
features:
  auth:
    enabled: true               # Default: yes (Claude will still ask)
    description: "JWT authentication middleware"
    # When enabled, includes:
    #   - JWT middleware
    #   - Login/register endpoints
    #   - Protected routes

  s3:
    enabled: false              # Default: no (Claude will still ask)
    description: "S3 file upload support"
    # When enabled, includes:
    #   - S3 service in internal/s3/
    #   - Image upload endpoints
    #   - Presigned URL generation
    #   - AWS environment variables

  redis:
    enabled: true               # ALWAYS included (required for DDD template)
    description: "Redis caching"
    # Never disabled - core requirement for the template

  frontend:
    enabled: false              # Default: no (Claude will still ask)
    description: "Next.js frontend application"
    # When enabled, includes:
    #   - Complete React frontend with Next.js 15
    #   - TanStack Query for data fetching
    #   - Zustand for state management
    #   - Tailwind CSS and shadcn/ui components
    #   - Full CRUD UI for entities

# ==========================================
# HOW THIS CONFIG WORKS WITH CLAUDE
# ==========================================
# 1. These settings apply to ALL projects
# 2. Claude will still ASK users about auth, S3, etc.
# 3. The defaults here just set the initial suggestion
# 4. Users can always override during generation
#
# WHAT YOU SHOULD CHANGE:
# - module_prefix: Set to your GitHub username
# - database credentials: If using different PostgreSQL setup
# - port ranges: If defaults conflict with your services
#
# WHAT CLAUDE WILL ALWAYS ASK:
# - Project name
# - Primary entity
# - Include authentication? (shows default from here)
# - Include S3? (shows default from here)
# - Project description